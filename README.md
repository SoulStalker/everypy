Проект телеграм-бота с элементами микросервисной архитектуры

Чтобы что
помогать сотрудникам получать полезную информацию

Что должен уметь бот
Получать команды и отвечать только пользователям из списка
У бота должно быть меню и кнопки с дублированием команд из меню. не всех
По команде выдавать список незакрытых смен
Один раз в сутки вечером в 23:20 присылать в группу список незакрытых смен
По команде выдавать одним списком все незакрытые смены в одном сообщении
Выдавать по команде результаты продаж по магазинам (Дата, Магазин, Чека, Оборот (Наличие незакрытых смен. Итоговые данные). По одному сообещнию на каждый магазин
Выдавать по команде Суммарный отчет по магазинам за день
По расписанию три раза в день присылать отчет по закрытым заявкам
По команде выдавать список оборудования из гугл документа
Дополнительный функционал
Сообщать о новой зявке в отрс
Пересылать сообщения из группы ватсапп
Описание взаимодействия с ботом
Пользователь отправляет команду /start боту (или стартует его, найдя в поиске) Команда /unclosed выдает список незакрытых смен

Поток данных (как это работает на практике)
Пользователь пишет /unclosed:

Telegram Client → Telegram Controller → Auth Check → Command Handler → Kafka Producer. Ответ от CSI-service Kafka Consumer → Kafka Controller → Telegram Client → Отправка в группу. Сообщение из WhatsApp-gateway: Kafka Consumer (топик whatsapp_messages) → Telegram Client → Отправка медиа в группу.
